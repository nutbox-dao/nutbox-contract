{
  "_format": "hh-sol-artifact-1",
  "contractName": "LinearCalculator",
  "sourceName": "contracts/calculators/LinearCalculator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_communityFactory",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "community",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "policy",
          "type": "bytes"
        }
      ],
      "name": "DistributionEraSet",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "from",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "to",
          "type": "uint256"
        }
      ],
      "name": "calculateReward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "distributionCountMap",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "distributionErasMap",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startHeight",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "stopHeight",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        }
      ],
      "name": "getCurrentDistributionEra",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "startHeight",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "stopHeight",
              "type": "uint256"
            }
          ],
          "internalType": "struct LinearCalculator.Distribution",
          "name": "era",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        }
      ],
      "name": "getCurrentRewardPerBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        }
      ],
      "name": "getStartBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "policy",
          "type": "bytes"
        }
      ],
      "name": "setDistributionEra",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b5060405161103138038061103183398101604081905261002f91610073565b6001600160a01b03811661005e5760405162461bcd60e51b8152600401610055906100a1565b60405180910390fd5b60601b6001600160601b0319166080526100ca565b600060208284031215610084578081fd5b81516001600160a01b038116811461009a578182fd5b9392505050565b6020808252600f908201526e496e76616c6964206164647265737360881b604082015260600190565b60805160601c610f496100e8600039600061045d0152610f496000f3fe608060405234801561001057600080fd5b506004361061006d5760003560e01c80632c32c3601461007257806353ba2f041461009b5780635a6c95f5146100bb5780636e378716146100db578063b5884f42146100ee578063e1bf90751461010e578063fe27785014610130575b600080fd5b610085610080366004610b7f565b610143565b6040516100929190610e12565b60405180910390f35b6100ae6100a9366004610abf565b61043b565b6040516100929190610e31565b6100ce6100c9366004610ad9565b610450565b6040516100929190610bb1565b6100856100e9366004610abf565b610521565b6101016100fc366004610abf565b610535565b6040516100929190610df1565b61012161011c366004610b56565b6106af565b60405161009293929190610e1b565b61008561013e366004610abf565b6106f1565b600080610151600185610ec6565b6001600160a01b0386166000908152602081815260408083208054825181850281018501909352808352949550929384939192849084015b828210156101d95783829060005260206000209060030201604051806060016040529081600082015481526020016001820154815260200160028201548152505081526020019060010190610189565b50505050905080516000148061021b57508060008151811061020b57634e487b7160e01b600052603260045260246000fd5b6020026020010151602001514311155b1561022a575091506104349050565b8060008151811061024b57634e487b7160e01b600052603260045260246000fd5b60200260200101516020015183101561029a5760018160008151811061028157634e487b7160e01b600052603260045260246000fd5b6020026020010151602001516102979190610ec6565b92505b60005b81518160ff16101561042d57818160ff16815181106102cc57634e487b7160e01b600052603260045260246000fd5b6020026020010151604001518411156102e45761041b565b818160ff168151811061030757634e487b7160e01b600052603260045260246000fd5b60200260200101516040015186116103715761036561035e838360ff168151811061034257634e487b7160e01b600052603260045260246000fd5b6020908102919091010151516103588988610740565b9061074c565b8490610758565b94506104349350505050565b6103e761035e838360ff168151811061039a57634e487b7160e01b600052603260045260246000fd5b60200260200101516000015161035887868660ff16815181106103cd57634e487b7160e01b600052603260045260246000fd5b60200260200101516040015161074090919063ffffffff16565b9250818160ff168151811061040c57634e487b7160e01b600052603260045260246000fd5b60200260200101516040015193505b8061042581610edd565b91505061029d565b5090925050505b9392505050565b60016020526000908152604090205460ff1681565b6000336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104a35760405162461bcd60e51b815260040161049a90610d80565b60405180910390fd5b6001600160a01b0384166104c95760405162461bcd60e51b815260040161049a90610beb565b6104d4848484610764565b836001600160a01b03167f2d2dfa6fc5f662c81da8110bfe4407afe69af659440ae2d4c93502483f612249848460405161050f929190610bbc565b60405180910390a25060019392505050565b600061052c82610535565b5190505b919050565b61053d610a87565b6001600160a01b03821660009081526020818152604080832080548251818502810185019093528083529192909190849084015b828210156105c15783829060005260206000209060030201604051806060016040529081600082015481526020016001820154815260200160028201548152505081526020019060010190610571565b50505050905060005b6001600160a01b03841660009081526001602052604090205460ff90811690821610156106a857818160ff168151811061061457634e487b7160e01b600052603260045260246000fd5b602002602001015160200151431015801561065d5750818160ff168151811061064d57634e487b7160e01b600052603260045260246000fd5b6020026020010151604001514311155b1561069657818160ff168151811061068557634e487b7160e01b600052603260045260246000fd5b602002602001015192505050610530565b806106a081610edd565b9150506105ca565b5050919050565b600060205281600052604060002081815481106106cb57600080fd5b600091825260209091206003909102018054600182015460029092015490935090915083565b6001600160a01b03811660009081526020819052604081208054829061072757634e487b7160e01b600052603260045260246000fd5b9060005260206000209060030201600101549050919050565b60006104348284610ec6565b60006104348284610ea7565b60006104348284610e3f565b60006107aa600084848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a1b9050565b905060018160ff1610156107d05760405162461bcd60e51b815260040161049a90610c57565b600160005b8260ff168160ff161015610a13576000610831836001600160401b031687878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a519050565b905061083e836020610e57565b9250600061088e846001600160401b031688888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a519050565b905061089b846020610e57565b935060006108eb856001600160401b031689898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a519050565b90506108f8856020610e57565b94506000811161091a5760405162461bcd60e51b815260040161049a90610c9e565b60ff8416610941574383116109415760405162461bcd60e51b815260040161049a90610d3c565b8183106109605760405162461bcd60e51b815260040161049a90610c14565b6001600160a01b03891660008181526020818152604080832081516060810183528681528084018981528184018981528354600181810186559488528688209351600390910290930192835590518284015551600290910155938352908390529020546109d29160ff90911690610e82565b6001600160a01b038a166000908152600160205260409020805460ff191660ff9290921691909117905550829150610a0b905081610edd565b9150506107d5565b505050505050565b6000610a28826001610e3f565b83511015610a485760405162461bcd60e51b815260040161049a90610dc4565b50016001015190565b6000610a5e826020610e3f565b83511015610a7e5760405162461bcd60e51b815260040161049a90610d0d565b50016020015190565b60405180606001604052806000815260200160008152602001600081525090565b80356001600160a01b038116811461053057600080fd5b600060208284031215610ad0578081fd5b61043482610aa8565b600080600060408486031215610aed578182fd5b610af684610aa8565b925060208401356001600160401b0380821115610b11578384fd5b818601915086601f830112610b24578384fd5b813581811115610b32578485fd5b876020828501011115610b43578485fd5b6020830194508093505050509250925092565b60008060408385031215610b68578182fd5b610b7183610aa8565b946020939093013593505050565b600080600060608486031215610b93578283fd5b610b9c84610aa8565b95602085013595506040909401359392505050565b901515815260200190565b60006020825282602083015282846040840137818301604090810191909152601f909201601f19160101919050565b6020808252600f908201526e496e76616c6964206164647265737360881b604082015260600190565b60208082526023908201527f496e76616c69642073746f7020686569676874206f662064697374726962757460408201526234b7b760e91b606082015260800190565b60208082526027908201527f4174206c65617374206f6e6520646973747269627574696f6e20657261206973604082015266081b995959195960ca1b606082015260800190565b60208082526049908201527f496e76616c69642072657761726420616d6f756e74206f66206469737472696260408201527f7574696f6e2c20636f6e736964657220676976696e67206120706f7369746976606082015268329034b73a32b3b2b960b91b608082015260a00190565b602080825260159082015274746f55696e743235365f6f75744f66426f756e647360581b604082015260600190565b60208082526024908201527f496e76616c696420737461727420686569676874206f662064697374726962756040820152633a34b7b760e11b606082015260800190565b60208082526024908201527f4163636f756e74206973206e6f742074686520636f6d6d756e69747920666163604082015263746f727960e01b606082015260800190565b602080825260139082015272746f55696e74385f6f75744f66426f756e647360681b604082015260600190565b81518152602080830151908201526040918201519181019190915260600190565b90815260200190565b9283526020830191909152604082015260600190565b60ff91909116815260200190565b60008219821115610e5257610e52610efd565b500190565b60006001600160401b03828116848216808303821115610e7957610e79610efd565b01949350505050565b600060ff821660ff84168060ff03821115610e9f57610e9f610efd565b019392505050565b6000816000190483118215151615610ec157610ec1610efd565b500290565b600082821015610ed857610ed8610efd565b500390565b600060ff821660ff811415610ef457610ef4610efd565b60010192915050565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220cd5537b6dd9eb2dd90a217ba1fe4758ddef8ba33cfc3f5c5adef11afb927457964736f6c63430008000033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061006d5760003560e01c80632c32c3601461007257806353ba2f041461009b5780635a6c95f5146100bb5780636e378716146100db578063b5884f42146100ee578063e1bf90751461010e578063fe27785014610130575b600080fd5b610085610080366004610b7f565b610143565b6040516100929190610e12565b60405180910390f35b6100ae6100a9366004610abf565b61043b565b6040516100929190610e31565b6100ce6100c9366004610ad9565b610450565b6040516100929190610bb1565b6100856100e9366004610abf565b610521565b6101016100fc366004610abf565b610535565b6040516100929190610df1565b61012161011c366004610b56565b6106af565b60405161009293929190610e1b565b61008561013e366004610abf565b6106f1565b600080610151600185610ec6565b6001600160a01b0386166000908152602081815260408083208054825181850281018501909352808352949550929384939192849084015b828210156101d95783829060005260206000209060030201604051806060016040529081600082015481526020016001820154815260200160028201548152505081526020019060010190610189565b50505050905080516000148061021b57508060008151811061020b57634e487b7160e01b600052603260045260246000fd5b6020026020010151602001514311155b1561022a575091506104349050565b8060008151811061024b57634e487b7160e01b600052603260045260246000fd5b60200260200101516020015183101561029a5760018160008151811061028157634e487b7160e01b600052603260045260246000fd5b6020026020010151602001516102979190610ec6565b92505b60005b81518160ff16101561042d57818160ff16815181106102cc57634e487b7160e01b600052603260045260246000fd5b6020026020010151604001518411156102e45761041b565b818160ff168151811061030757634e487b7160e01b600052603260045260246000fd5b60200260200101516040015186116103715761036561035e838360ff168151811061034257634e487b7160e01b600052603260045260246000fd5b6020908102919091010151516103588988610740565b9061074c565b8490610758565b94506104349350505050565b6103e761035e838360ff168151811061039a57634e487b7160e01b600052603260045260246000fd5b60200260200101516000015161035887868660ff16815181106103cd57634e487b7160e01b600052603260045260246000fd5b60200260200101516040015161074090919063ffffffff16565b9250818160ff168151811061040c57634e487b7160e01b600052603260045260246000fd5b60200260200101516040015193505b8061042581610edd565b91505061029d565b5090925050505b9392505050565b60016020526000908152604090205460ff1681565b6000336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104a35760405162461bcd60e51b815260040161049a90610d80565b60405180910390fd5b6001600160a01b0384166104c95760405162461bcd60e51b815260040161049a90610beb565b6104d4848484610764565b836001600160a01b03167f2d2dfa6fc5f662c81da8110bfe4407afe69af659440ae2d4c93502483f612249848460405161050f929190610bbc565b60405180910390a25060019392505050565b600061052c82610535565b5190505b919050565b61053d610a87565b6001600160a01b03821660009081526020818152604080832080548251818502810185019093528083529192909190849084015b828210156105c15783829060005260206000209060030201604051806060016040529081600082015481526020016001820154815260200160028201548152505081526020019060010190610571565b50505050905060005b6001600160a01b03841660009081526001602052604090205460ff90811690821610156106a857818160ff168151811061061457634e487b7160e01b600052603260045260246000fd5b602002602001015160200151431015801561065d5750818160ff168151811061064d57634e487b7160e01b600052603260045260246000fd5b6020026020010151604001514311155b1561069657818160ff168151811061068557634e487b7160e01b600052603260045260246000fd5b602002602001015192505050610530565b806106a081610edd565b9150506105ca565b5050919050565b600060205281600052604060002081815481106106cb57600080fd5b600091825260209091206003909102018054600182015460029092015490935090915083565b6001600160a01b03811660009081526020819052604081208054829061072757634e487b7160e01b600052603260045260246000fd5b9060005260206000209060030201600101549050919050565b60006104348284610ec6565b60006104348284610ea7565b60006104348284610e3f565b60006107aa600084848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a1b9050565b905060018160ff1610156107d05760405162461bcd60e51b815260040161049a90610c57565b600160005b8260ff168160ff161015610a13576000610831836001600160401b031687878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a519050565b905061083e836020610e57565b9250600061088e846001600160401b031688888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a519050565b905061089b846020610e57565b935060006108eb856001600160401b031689898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a519050565b90506108f8856020610e57565b94506000811161091a5760405162461bcd60e51b815260040161049a90610c9e565b60ff8416610941574383116109415760405162461bcd60e51b815260040161049a90610d3c565b8183106109605760405162461bcd60e51b815260040161049a90610c14565b6001600160a01b03891660008181526020818152604080832081516060810183528681528084018981528184018981528354600181810186559488528688209351600390910290930192835590518284015551600290910155938352908390529020546109d29160ff90911690610e82565b6001600160a01b038a166000908152600160205260409020805460ff191660ff9290921691909117905550829150610a0b905081610edd565b9150506107d5565b505050505050565b6000610a28826001610e3f565b83511015610a485760405162461bcd60e51b815260040161049a90610dc4565b50016001015190565b6000610a5e826020610e3f565b83511015610a7e5760405162461bcd60e51b815260040161049a90610d0d565b50016020015190565b60405180606001604052806000815260200160008152602001600081525090565b80356001600160a01b038116811461053057600080fd5b600060208284031215610ad0578081fd5b61043482610aa8565b600080600060408486031215610aed578182fd5b610af684610aa8565b925060208401356001600160401b0380821115610b11578384fd5b818601915086601f830112610b24578384fd5b813581811115610b32578485fd5b876020828501011115610b43578485fd5b6020830194508093505050509250925092565b60008060408385031215610b68578182fd5b610b7183610aa8565b946020939093013593505050565b600080600060608486031215610b93578283fd5b610b9c84610aa8565b95602085013595506040909401359392505050565b901515815260200190565b60006020825282602083015282846040840137818301604090810191909152601f909201601f19160101919050565b6020808252600f908201526e496e76616c6964206164647265737360881b604082015260600190565b60208082526023908201527f496e76616c69642073746f7020686569676874206f662064697374726962757460408201526234b7b760e91b606082015260800190565b60208082526027908201527f4174206c65617374206f6e6520646973747269627574696f6e20657261206973604082015266081b995959195960ca1b606082015260800190565b60208082526049908201527f496e76616c69642072657761726420616d6f756e74206f66206469737472696260408201527f7574696f6e2c20636f6e736964657220676976696e67206120706f7369746976606082015268329034b73a32b3b2b960b91b608082015260a00190565b602080825260159082015274746f55696e743235365f6f75744f66426f756e647360581b604082015260600190565b60208082526024908201527f496e76616c696420737461727420686569676874206f662064697374726962756040820152633a34b7b760e11b606082015260800190565b60208082526024908201527f4163636f756e74206973206e6f742074686520636f6d6d756e69747920666163604082015263746f727960e01b606082015260800190565b602080825260139082015272746f55696e74385f6f75744f66426f756e647360681b604082015260600190565b81518152602080830151908201526040918201519181019190915260600190565b90815260200190565b9283526020830191909152604082015260600190565b60ff91909116815260200190565b60008219821115610e5257610e52610efd565b500190565b60006001600160401b03828116848216808303821115610e7957610e79610efd565b01949350505050565b600060ff821660ff84168060ff03821115610e9f57610e9f610efd565b019392505050565b6000816000190483118215151615610ec157610ec1610efd565b500290565b600082821015610ed857610ed8610efd565b500390565b600060ff821660ff811415610ef457610ef4610efd565b60010192915050565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220cd5537b6dd9eb2dd90a217ba1fe4758ddef8ba33cfc3f5c5adef11afb927457964736f6c63430008000033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
