{
  "_format": "hh-sol-artifact-1",
  "contractName": "LinearCalculator",
  "sourceName": "contracts/calculators/LinearCalculator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_communityFactory",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "community",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "policy",
          "type": "bytes"
        }
      ],
      "name": "DistributionEraSet",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "blockNum",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "from",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "to",
          "type": "uint256"
        }
      ],
      "name": "calculateReward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "distributionCountMap",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "distributionErasMap",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startHeight",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "stopHeight",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        }
      ],
      "name": "getCurrentDistributionEra",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "startHeight",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "stopHeight",
              "type": "uint256"
            }
          ],
          "internalType": "struct LinearCalculator.Distribution",
          "name": "era",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        }
      ],
      "name": "getCurrentRewardPerBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        }
      ],
      "name": "getStartBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "community",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "policy",
          "type": "bytes"
        }
      ],
      "name": "setDistributionEra",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b5060405161108c38038061108c83398101604081905261002f9161008d565b6001600160a01b038116610078576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161006f906100bb565b60405180910390fd5b60601b6001600160601b0319166080526100f2565b60006020828403121561009e578081fd5b81516001600160a01b03811681146100b4578182fd5b9392505050565b6020808252600f908201527f496e76616c696420616464726573730000000000000000000000000000000000604082015260600190565b60805160601c610f7c61011060003960006104770152610f7c6000f3fe608060405234801561001057600080fd5b50600436106100785760003560e01c80632c32c3601461007d57806353ba2f04146100a65780635a6c95f5146100c65780636e378716146100e65780638ae63d6d146100f9578063b5884f4214610101578063e1bf907514610121578063fe27785014610143575b600080fd5b61009061008b366004610bb2565b610156565b60405161009d9190610e45565b60405180910390f35b6100b96100b4366004610af2565b610455565b60405161009d9190610e64565b6100d96100d4366004610b0c565b61046a565b60405161009d9190610be4565b6100906100f4366004610af2565b61053b565b61009061054f565b61011461010f366004610af2565b610553565b60405161009d9190610e24565b61013461012f366004610b89565b6106db565b60405161009d93929190610e4e565b610090610151366004610af2565b61071d565b600080610164600185610ef9565b6001600160a01b0386166000908152602081815260408083208054825181850281018501909352808352949550929384939192849084015b828210156101ec578382906000526020600020906003020160405180606001604052908160008201548152602001600182015481526020016002820154815250508152602001906001019061019c565b50505050905080516000148061023557508060008151811061021e57634e487b7160e01b600052603260045260246000fd5b60200260200101516020015161023261054f565b11155b156102445750915061044e9050565b8060008151811061026557634e487b7160e01b600052603260045260246000fd5b6020026020010151602001518310156102b45760018160008151811061029b57634e487b7160e01b600052603260045260246000fd5b6020026020010151602001516102b19190610ef9565b92505b60005b81518160ff16101561044757818160ff16815181106102e657634e487b7160e01b600052603260045260246000fd5b6020026020010151604001518411156102fe57610435565b818160ff168151811061032157634e487b7160e01b600052603260045260246000fd5b602002602001015160400151861161038b5761037f610378838360ff168151811061035c57634e487b7160e01b600052603260045260246000fd5b602090810291909101015151610372898861076c565b90610778565b8490610784565b945061044e9350505050565b610401610378838360ff16815181106103b457634e487b7160e01b600052603260045260246000fd5b60200260200101516000015161037287868660ff16815181106103e757634e487b7160e01b600052603260045260246000fd5b60200260200101516040015161076c90919063ffffffff16565b9250818160ff168151811061042657634e487b7160e01b600052603260045260246000fd5b60200260200101516040015193505b8061043f81610f10565b9150506102b7565b5090925050505b9392505050565b60016020526000908152604090205460ff1681565b6000336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104bd5760405162461bcd60e51b81526004016104b490610db3565b60405180910390fd5b6001600160a01b0384166104e35760405162461bcd60e51b81526004016104b490610c1e565b6104ee848484610790565b836001600160a01b03167f2d2dfa6fc5f662c81da8110bfe4407afe69af659440ae2d4c93502483f6122498484604051610529929190610bef565b60405180910390a25060019392505050565b600061054682610553565b5190505b919050565b4390565b61055b610aba565b6001600160a01b03821660009081526020818152604080832080548251818502810185019093528083529192909190849084015b828210156105df578382906000526020600020906003020160405180606001604052908160008201548152602001600182015481526020016002820154815250508152602001906001019061058f565b50505050905060005b6001600160a01b03841660009081526001602052604090205460ff90811690821610156106d457818160ff168151811061063257634e487b7160e01b600052603260045260246000fd5b60200260200101516020015161064661054f565b101580156106895750818160ff168151811061067257634e487b7160e01b600052603260045260246000fd5b60200260200101516040015161068661054f565b11155b156106c257818160ff16815181106106b157634e487b7160e01b600052603260045260246000fd5b60200260200101519250505061054a565b806106cc81610f10565b9150506105e8565b5050919050565b600060205281600052604060002081815481106106f757600080fd5b600091825260209091206003909102018054600182015460029092015490935090915083565b6001600160a01b03811660009081526020819052604081208054829061075357634e487b7160e01b600052603260045260246000fd5b9060005260206000209060030201600101549050919050565b600061044e8284610ef9565b600061044e8284610eda565b600061044e8284610e72565b60006107d6600084848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a4e9050565b905060018160ff1610156107fc5760405162461bcd60e51b81526004016104b490610c8a565b600160005b8260ff168160ff161015610a4657600061085d836001600160401b031687878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a849050565b905061086a836020610e8a565b925060006108ba846001600160401b031688888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a849050565b90506108c7846020610e8a565b93506000610917856001600160401b031689898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a849050565b9050610924856020610e8a565b9450600081116109465760405162461bcd60e51b81526004016104b490610cd1565b60ff84166109745761095661054f565b83116109745760405162461bcd60e51b81526004016104b490610d6f565b8183106109935760405162461bcd60e51b81526004016104b490610c47565b6001600160a01b0389166000818152602081815260408083208151606081018352868152808401898152818401898152835460018181018655948852868820935160039091029093019283559051828401555160029091015593835290839052902054610a059160ff90911690610eb5565b6001600160a01b038a166000908152600160205260409020805460ff191660ff9290921691909117905550829150610a3e905081610f10565b915050610801565b505050505050565b6000610a5b826001610e72565b83511015610a7b5760405162461bcd60e51b81526004016104b490610df7565b50016001015190565b6000610a91826020610e72565b83511015610ab15760405162461bcd60e51b81526004016104b490610d40565b50016020015190565b60405180606001604052806000815260200160008152602001600081525090565b80356001600160a01b038116811461054a57600080fd5b600060208284031215610b03578081fd5b61044e82610adb565b600080600060408486031215610b20578182fd5b610b2984610adb565b925060208401356001600160401b0380821115610b44578384fd5b818601915086601f830112610b57578384fd5b813581811115610b65578485fd5b876020828501011115610b76578485fd5b6020830194508093505050509250925092565b60008060408385031215610b9b578182fd5b610ba483610adb565b946020939093013593505050565b600080600060608486031215610bc6578283fd5b610bcf84610adb565b95602085013595506040909401359392505050565b901515815260200190565b60006020825282602083015282846040840137818301604090810191909152601f909201601f19160101919050565b6020808252600f908201526e496e76616c6964206164647265737360881b604082015260600190565b60208082526023908201527f496e76616c69642073746f7020686569676874206f662064697374726962757460408201526234b7b760e91b606082015260800190565b60208082526027908201527f4174206c65617374206f6e6520646973747269627574696f6e20657261206973604082015266081b995959195960ca1b606082015260800190565b60208082526049908201527f496e76616c69642072657761726420616d6f756e74206f66206469737472696260408201527f7574696f6e2c20636f6e736964657220676976696e67206120706f7369746976606082015268329034b73a32b3b2b960b91b608082015260a00190565b602080825260159082015274746f55696e743235365f6f75744f66426f756e647360581b604082015260600190565b60208082526024908201527f496e76616c696420737461727420686569676874206f662064697374726962756040820152633a34b7b760e11b606082015260800190565b60208082526024908201527f4163636f756e74206973206e6f742074686520636f6d6d756e69747920666163604082015263746f727960e01b606082015260800190565b602080825260139082015272746f55696e74385f6f75744f66426f756e647360681b604082015260600190565b81518152602080830151908201526040918201519181019190915260600190565b90815260200190565b9283526020830191909152604082015260600190565b60ff91909116815260200190565b60008219821115610e8557610e85610f30565b500190565b60006001600160401b03828116848216808303821115610eac57610eac610f30565b01949350505050565b600060ff821660ff84168060ff03821115610ed257610ed2610f30565b019392505050565b6000816000190483118215151615610ef457610ef4610f30565b500290565b600082821015610f0b57610f0b610f30565b500390565b600060ff821660ff811415610f2757610f27610f30565b60010192915050565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220fbf663b766a79f6686ba0280212539d47664eac970e9b06967ebf535b5f6e17a64736f6c63430008000033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100785760003560e01c80632c32c3601461007d57806353ba2f04146100a65780635a6c95f5146100c65780636e378716146100e65780638ae63d6d146100f9578063b5884f4214610101578063e1bf907514610121578063fe27785014610143575b600080fd5b61009061008b366004610bb2565b610156565b60405161009d9190610e45565b60405180910390f35b6100b96100b4366004610af2565b610455565b60405161009d9190610e64565b6100d96100d4366004610b0c565b61046a565b60405161009d9190610be4565b6100906100f4366004610af2565b61053b565b61009061054f565b61011461010f366004610af2565b610553565b60405161009d9190610e24565b61013461012f366004610b89565b6106db565b60405161009d93929190610e4e565b610090610151366004610af2565b61071d565b600080610164600185610ef9565b6001600160a01b0386166000908152602081815260408083208054825181850281018501909352808352949550929384939192849084015b828210156101ec578382906000526020600020906003020160405180606001604052908160008201548152602001600182015481526020016002820154815250508152602001906001019061019c565b50505050905080516000148061023557508060008151811061021e57634e487b7160e01b600052603260045260246000fd5b60200260200101516020015161023261054f565b11155b156102445750915061044e9050565b8060008151811061026557634e487b7160e01b600052603260045260246000fd5b6020026020010151602001518310156102b45760018160008151811061029b57634e487b7160e01b600052603260045260246000fd5b6020026020010151602001516102b19190610ef9565b92505b60005b81518160ff16101561044757818160ff16815181106102e657634e487b7160e01b600052603260045260246000fd5b6020026020010151604001518411156102fe57610435565b818160ff168151811061032157634e487b7160e01b600052603260045260246000fd5b602002602001015160400151861161038b5761037f610378838360ff168151811061035c57634e487b7160e01b600052603260045260246000fd5b602090810291909101015151610372898861076c565b90610778565b8490610784565b945061044e9350505050565b610401610378838360ff16815181106103b457634e487b7160e01b600052603260045260246000fd5b60200260200101516000015161037287868660ff16815181106103e757634e487b7160e01b600052603260045260246000fd5b60200260200101516040015161076c90919063ffffffff16565b9250818160ff168151811061042657634e487b7160e01b600052603260045260246000fd5b60200260200101516040015193505b8061043f81610f10565b9150506102b7565b5090925050505b9392505050565b60016020526000908152604090205460ff1681565b6000336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104bd5760405162461bcd60e51b81526004016104b490610db3565b60405180910390fd5b6001600160a01b0384166104e35760405162461bcd60e51b81526004016104b490610c1e565b6104ee848484610790565b836001600160a01b03167f2d2dfa6fc5f662c81da8110bfe4407afe69af659440ae2d4c93502483f6122498484604051610529929190610bef565b60405180910390a25060019392505050565b600061054682610553565b5190505b919050565b4390565b61055b610aba565b6001600160a01b03821660009081526020818152604080832080548251818502810185019093528083529192909190849084015b828210156105df578382906000526020600020906003020160405180606001604052908160008201548152602001600182015481526020016002820154815250508152602001906001019061058f565b50505050905060005b6001600160a01b03841660009081526001602052604090205460ff90811690821610156106d457818160ff168151811061063257634e487b7160e01b600052603260045260246000fd5b60200260200101516020015161064661054f565b101580156106895750818160ff168151811061067257634e487b7160e01b600052603260045260246000fd5b60200260200101516040015161068661054f565b11155b156106c257818160ff16815181106106b157634e487b7160e01b600052603260045260246000fd5b60200260200101519250505061054a565b806106cc81610f10565b9150506105e8565b5050919050565b600060205281600052604060002081815481106106f757600080fd5b600091825260209091206003909102018054600182015460029092015490935090915083565b6001600160a01b03811660009081526020819052604081208054829061075357634e487b7160e01b600052603260045260246000fd5b9060005260206000209060030201600101549050919050565b600061044e8284610ef9565b600061044e8284610eda565b600061044e8284610e72565b60006107d6600084848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a4e9050565b905060018160ff1610156107fc5760405162461bcd60e51b81526004016104b490610c8a565b600160005b8260ff168160ff161015610a4657600061085d836001600160401b031687878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a849050565b905061086a836020610e8a565b925060006108ba846001600160401b031688888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a849050565b90506108c7846020610e8a565b93506000610917856001600160401b031689898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610a849050565b9050610924856020610e8a565b9450600081116109465760405162461bcd60e51b81526004016104b490610cd1565b60ff84166109745761095661054f565b83116109745760405162461bcd60e51b81526004016104b490610d6f565b8183106109935760405162461bcd60e51b81526004016104b490610c47565b6001600160a01b0389166000818152602081815260408083208151606081018352868152808401898152818401898152835460018181018655948852868820935160039091029093019283559051828401555160029091015593835290839052902054610a059160ff90911690610eb5565b6001600160a01b038a166000908152600160205260409020805460ff191660ff9290921691909117905550829150610a3e905081610f10565b915050610801565b505050505050565b6000610a5b826001610e72565b83511015610a7b5760405162461bcd60e51b81526004016104b490610df7565b50016001015190565b6000610a91826020610e72565b83511015610ab15760405162461bcd60e51b81526004016104b490610d40565b50016020015190565b60405180606001604052806000815260200160008152602001600081525090565b80356001600160a01b038116811461054a57600080fd5b600060208284031215610b03578081fd5b61044e82610adb565b600080600060408486031215610b20578182fd5b610b2984610adb565b925060208401356001600160401b0380821115610b44578384fd5b818601915086601f830112610b57578384fd5b813581811115610b65578485fd5b876020828501011115610b76578485fd5b6020830194508093505050509250925092565b60008060408385031215610b9b578182fd5b610ba483610adb565b946020939093013593505050565b600080600060608486031215610bc6578283fd5b610bcf84610adb565b95602085013595506040909401359392505050565b901515815260200190565b60006020825282602083015282846040840137818301604090810191909152601f909201601f19160101919050565b6020808252600f908201526e496e76616c6964206164647265737360881b604082015260600190565b60208082526023908201527f496e76616c69642073746f7020686569676874206f662064697374726962757460408201526234b7b760e91b606082015260800190565b60208082526027908201527f4174206c65617374206f6e6520646973747269627574696f6e20657261206973604082015266081b995959195960ca1b606082015260800190565b60208082526049908201527f496e76616c69642072657761726420616d6f756e74206f66206469737472696260408201527f7574696f6e2c20636f6e736964657220676976696e67206120706f7369746976606082015268329034b73a32b3b2b960b91b608082015260a00190565b602080825260159082015274746f55696e743235365f6f75744f66426f756e647360581b604082015260600190565b60208082526024908201527f496e76616c696420737461727420686569676874206f662064697374726962756040820152633a34b7b760e11b606082015260800190565b60208082526024908201527f4163636f756e74206973206e6f742074686520636f6d6d756e69747920666163604082015263746f727960e01b606082015260800190565b602080825260139082015272746f55696e74385f6f75744f66426f756e647360681b604082015260600190565b81518152602080830151908201526040918201519181019190915260600190565b90815260200190565b9283526020830191909152604082015260600190565b60ff91909116815260200190565b60008219821115610e8557610e85610f30565b500190565b60006001600160401b03828116848216808303821115610eac57610eac610f30565b01949350505050565b600060ff821660ff84168060ff03821115610ed257610ed2610f30565b019392505050565b6000816000190483118215151615610ef457610ef4610f30565b500290565b600082821015610f0b57610f0b610f30565b500390565b600060ff821660ff811415610f2757610f27610f30565b60010192915050565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220fbf663b766a79f6686ba0280212539d47664eac970e9b06967ebf535b5f6e17a64736f6c63430008000033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
